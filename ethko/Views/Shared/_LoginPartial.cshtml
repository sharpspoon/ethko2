@using Microsoft.AspNet.Identity
@if (Request.IsAuthenticated)
{
    <head>
        <style>
            body {
                padding-top: 60px;
                padding-bottom: 40px;
            }

            .sidebar-nav {
                padding: 9px 0;
            }

            .dropdown-menu .sub-menu {
                left: 100%;
                position: absolute;
                top: 0;
                visibility: hidden;
                margin-top: -1px;
            }

            .dropdown-menu li:hover .sub-menu {
                visibility: visible;
            }

            .dropdown:hover .dropdown-menu {
                display: block;
            }

            .nav-tabs .dropdown-menu,
            .nav-pills .dropdown-menu,
            .navbar .dropdown-menu {
                margin-top: 0;
            }

            .navbar .sub-menu:before {
                border-bottom: 7px solid transparent;
                border-left: none;
                border-right: 7px solid rgba(0, 0, 0, 0.2);
                border-top: 7px solid transparent;
                left: -7px;
                top: 10px;
            }

            .navbar .sub-menu:after {
                border-top: 6px solid transparent;
                border-left: none;
                border-right: 6px solid #fff;
                border-bottom: 6px solid transparent;
                left: 10px;
                top: 11px;
                left: -6px;
            }
        </style>
    </head>
    <div class="modal fade" id="NewContactModalCenter" tabindex="-1" role="dialog" aria-labelledby="NewContactModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NewContactModalCenterTitle">Add Contact</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @Html.Action("NewContactModal", "Contacts")
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="NewContactGroupModalCenter" tabindex="-1" role="dialog" aria-labelledby="NewContactGroupModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NewContactGroupModalCenterTitle">Add Contact Group</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @Html.Action("NewContactGroupModal", "Contacts")
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="NewCompanyModalCenter" tabindex="-1" role="dialog" aria-labelledby="NewCompanyModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NewCompanyModalCenterTitle">Add Company</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @Html.Action("NewCompanyModal", "Contacts")
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="NewBillingMethodModalCenter" tabindex="-1" role="dialog" aria-labelledby="NewBillingMethodModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NewCompanyModalCenterTitle">Add Billing Method</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @Html.Action("NewBillingMethodModal", "Manage")
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="NewCaseStageModalCenter" tabindex="-1" role="dialog" aria-labelledby="NewCaseStageModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NewCompanyModalCenterTitle">Add Case Stage</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @Html.Action("NewCaseStageModal", "Manage")
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="NewLeadReferralSourceModalCenter" tabindex="-1" role="dialog" aria-labelledby="NewLeadReferralSourceModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NewCompanyModalCenterTitle">Add Lead Referral Source</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @Html.Action("NewLeadReferralSourceModal", "Manage")
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="NewLeadStatusModalCenter" tabindex="-1" role="dialog" aria-labelledby="NewLeadStatusModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NewCompanyModalCenterTitle">Add Lead Status</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @Html.Action("NewLeadStatusModal", "Manage")
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="NewOfficeModalCenter" tabindex="-1" role="dialog" aria-labelledby="NewOfficeModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NewCompanyModalCenterTitle">Add Office</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @Html.Action("NewOfficeModal", "Manage")
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="NewUserTypeModalCenter" tabindex="-1" role="dialog" aria-labelledby="NewUserTypeModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NewCompanyModalCenterTitle">Add User Type</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @Html.Action("NewUserTypeModal", "Manage")
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="NewToDoModalCenter" tabindex="-1" role="dialog" aria-labelledby="NewToDoModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NewToDoModalCenterTitle">Add To-Do</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @Html.Action("NewToDoModal", "ToDos")
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="NewPracticeAreaModalCenter" tabindex="-1" role="dialog" aria-labelledby="NewPracticeAreaModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NewPracticeAreaModalCenterTitle">Add Practice Area</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @Html.Action("NewPracticeAreaModal", "Cases")
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="NewCaseModalCenter" tabindex="-1" role="dialog" aria-labelledby="NewCaseModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl modal-dialog-scrollable" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NewCaseModalCenterTitle">Add Case</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @Html.Action("NewCaseModal", "Cases")
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="NewLeadModalCenter" tabindex="-1" role="dialog" aria-labelledby="NewLeadModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="NewLeadModalCenterTitle">Add Lead</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    @Html.Action("NewLeadModal", "Leads")
                </div>
            </div>
        </div>
    </div>
    <center>
        <div class="nav btn-group" role="group" aria-label="Button group with nested dropdown">
            <a class="btn btn-secondary" href='@Url.Action("Index", "Home")'>Home</a>
            <div class="btn-group" role="group">
                <button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Calendar
                </button>
                <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                    <a class="dropdown-item" href='@Url.Action("Index", "Calendar")'>Day</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Calendar")'>Week</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Calendar")'>Month</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Calendar")'>Agenda</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Calendar")'>Locations</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Calendar")'>Calendar Sync</a>
                </div>
            </div>
            <a class="btn btn-secondary" href='@Url.Action("Index", "ToDos")'>To-Do</a>
            <div class="btn-group" role="group">
                <button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Contacts
                </button>
                <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                    <a class="dropdown-item" href='@Url.Action("Index", "Contacts")'>Clients</a>
                    <a class="dropdown-item" href='@Url.Action("Companies", "Contacts")'>Companies</a>
                    <a class="dropdown-item" href='@Url.Action("ContactGroups", "Contacts")'>Contact Groups</a>
                </div>
            </div>
            <div class="btn-group" role="group">
                <button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Cases
                </button>
                <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                    <a class="dropdown-item" href='@Url.Action("Index", "Cases")'>My Open Cases</a>
                    <a class="dropdown-item" href='@Url.Action("Closed", "Cases")'>My Closed Cases</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Cases")'>Firm Open Cases</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Cases")'>Firm Closed Cases</a>
                    <a class="dropdown-item" href='@Url.Action("PracticeAreas", "Cases")'>Practice Areas</a>
                    <a class="dropdown-item" href='@Url.Action("CaseInsights", "Cases")'>Case Insights</a>
                </div>
            </div>
            <div class="btn-group" role="group">
                <button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Documents
                </button>
                <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                    <a class="dropdown-item" href='@Url.Action("Index", "Documents")'>Case Documents</a>
                    <a class="dropdown-item" href='@Url.Action("Unread", "Documents")'>Unread Case Documents</a>
                    <a class="dropdown-item" href='@Url.Action("Firm", "Documents")'>Firm Documents</a>
                    <a class="dropdown-item" href='@Url.Action("Templates", "Documents")'>Templates</a>
                </div>
            </div>
            <div class="btn-group" role="group">
                <button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Billing
                </button>
                <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                    <a class="dropdown-item" href='@Url.Action("Index", "Contacts")'>Time Entries</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Contacts")'>Expenses</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Contacts")'>Requested Funds</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Contacts")'>Invoices</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Contacts")'>Saved Activities</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Contacts")'>Account Activity</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Contacts")'>Trust Accounting</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Contacts")'>Financial Insights</a>
                </div>
            </div>
            <div class="btn-group" role="group">
                <button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Reporting
                </button>
                <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                    <a class="dropdown-item" href='@Url.Action("Index", "Reporting")'>My Time & Expenses Today</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Reporting")'>My Time & Expenses This Week</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Reporting")'>My Time & Expenses This Month</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Reporting")'>Firm Time & Expenses Today</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Reporting")'>Firm Time & Expenses This Week</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Reporting")'>Firm Time & Expenses This Month</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Reporting")'>Aging Invoices</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Reporting")'>Accounts Receivable</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Reporting")'>Saved Reports</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Reporting")'>More Reports</a>
                </div>
            </div>
            <div class="btn-group" role="group">
                <button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Messages
                </button>
                <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                    <a class="dropdown-item" href='@Url.Action("Index", "Messages")'>Inbox</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Messages")'>Unread</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Messages")'>Sent</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Messages")'>Drafts</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Messages")'>Archived</a>
                </div>
            </div>
            <div class="btn-group" role="group">
                <button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Comments
                </button>
                <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                    <a class="dropdown-item" href='@Url.Action("Index", "Comments")'>All</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Comments")'>Unread</a>
                </div>
            </div>
            <div class="btn-group" role="group">
                <button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Leads
                </button>
                <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                    <a class="dropdown-item" href='@Url.Action("Index", "Leads")'>Dashboard</a>
                    <a class="dropdown-item" href='@Url.Action("Index", "Leads")'>Leads Insights</a>
                </div>
            </div>
            <div class="btn-group" role="group">
                <button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Settings
                </button>
                <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
                    <a class="dropdown-item" href='@Url.Action("Index", "Manage")'>Settings Dashboard</a>
                    <a class="dropdown-item" href='@Url.Action("MyProfile", "Manage")'>My Profile</a>
                    <a class="dropdown-item" href='@Url.Action("MySettings", "Manage")'>My Settings</a>
                    <a class="dropdown-item" href='@Url.Action("MyNotifications", "Manage")'>My Notifications</a>
                    <a class="dropdown-item" href='@Url.Action("FirmUsers", "Manage")'>Firm Users</a>
                    <a class="dropdown-item" href='@Url.Action("FirmSettings", "Manage")'>Firm Settings</a>
                    <a class="dropdown-item" href='@Url.Action("ClientBilling", "Manage")'>Client Billing</a>
                    <a class="dropdown-item" href='@Url.Action("ImportExport", "Manage")'>Import/Export</a>
                    <a class="dropdown-item" href='@Url.Action("CustomFields", "Manage")'>Custom Fields</a>
                    <a class="dropdown-item" href='@Url.Action("IntakeForms", "Manage")'>Intake Forms</a>
                    <a class="dropdown-item" href='@Url.Action("Workflows", "Manage")'>Workflows</a>
                    <a class="dropdown-item" href='@Url.Action("CaseStages", "Manage")'>Case Stages</a>
                    <a class="dropdown-item" href='@Url.Action("Leads", "Manage")'>Leads</a>
                    @using (Html.BeginForm("LogOff", "Account", new { area = "" }, FormMethod.Post, new { id = "logoutForm" }))
                    {
                        @Html.AntiForgeryToken()
                        <div class="dropdown-item">
                            <a class="btn btn-secondary" href="javascript:sessionStorage.removeItem('accessToken');$('#logoutForm').submit();">Logout</a>
                        </div>
                    }
                </div>
            </div>
        </div>
    </center>
}
else
{
    <ul class="nav navbar-nav navbar-right">
        <li>@Html.ActionLink("Register", "Register", "Account", routeValues: new { area = "" }, htmlAttributes: new { id = "registerLink" })</li>
        <li>@Html.ActionLink("Log in", "Login", "Account", routeValues: new { area = "" }, htmlAttributes: new { id = "loginLink" })</li>
    </ul>
}